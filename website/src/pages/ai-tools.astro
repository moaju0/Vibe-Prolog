---
import Layout from '../layouts/Layout.astro';
---

<Layout title="AI Workflow - Vibe Prolog" description="Development workflow for building Vibe Prolog with AI coding tools">
  <div class="hero">
    <h1>AI WORKFLOW</h1>
    <p class="subtitle">AUTOMATED DEVELOPMENT PROCESS FOR VIBE PROLOG</p>
  </div>

  <div class="content">
    <section>
      <h2>Overview</h2>
      <p>
        This page documents the automated workflow used to develop Vibe Prolog. The entire
        development process—from issue creation to PR merge—leverages AI coding tools to
        maintain high velocity and code quality.
      </p>
    </section>

    <section>
      <h2>Creating New Work</h2>

      <div class="workflow-step">
        <h3>Step 1: Analyze Current State</h3>
        <p>Review the project goals and current issues to determine what to work on next:</p>
        <div class="code-example">
          <pre><code>read FEATURES.md and ARCHITECTURE.md carefully,
and review the goals in AGENTS.md

look at .paige/currentissuelist.json to understand
the current github issues.

Given this information and the goals of this project,
after the current issues are addressed what should
we work on next?</code></pre>
        </div>
      </div>

      <div class="workflow-step">
        <h3>Step 2: Plan Issues</h3>
        <p>Determine how many issues should be created for the planned work:</p>
        <div class="code-example">
          <pre><code>how many issues should we raise for these?</code></pre>
        </div>
      </div>

      <div class="workflow-step">
        <h3>Step 3: Create Issues</h3>
        <p>Use the GitHub CLI to create detailed issues:</p>
        <div class="code-example">
          <pre><code>use the `gh issue` command line tool and create
issues for all of these.

Be explicit in outlining exactly what needs to be
done so an inexperienced developer can follow it.

Be sure to include the following in each issue:
- include comprehensive test coverage
- update FEATURES.md

Don't include estimates or line numbers</code></pre>
        </div>
      </div>
    </section>

    <section>
      <h2>Grooming Issues</h2>

      <div class="workflow-step">
        <h3>Inspect and Split Issues</h3>
        <p>Review complex issues and split them into smaller, manageable tasks:</p>
        <div class="code-example">
          <pre><code>use `gh issue` to inspect issue &lt;issue number&gt;.

Can we split this into multiple issues?</code></pre>
        </div>
        <p class="note">After determining how to split the issue:</p>
        <div class="code-example">
          <pre><code>Use the `gh issue` tool and create these issues.

Note which ones block others

Provide comprehensive instructions for how to
implement these changes.

Make sure each issue contains instructions to
update FEATURES.md and to provide comprehensive
test coverage.

No estimates or line numbers should be provided</code></pre>
        </div>
      </div>
    </section>

    <section>
      <h2>Prioritizing Work</h2>

      <p class="note">
        These commands use the <code>paige-manage-github</code> CLI tool (external to this project).
      </p>

      <div class="workflow-step">
        <h3>List All Issues</h3>
        <p>Get a comprehensive list of all issues with their details:</p>
        <div class="code-example">
          <pre><code>uv run --project ../paige-github-tooling \
  paige-manage-github --list-issues</code></pre>
        </div>
      </div>

      <div class="workflow-step">
        <h3>Sort by Priority</h3>
        <p>Automatically prioritize issues based on dependencies and importance:</p>
        <div class="code-example">
          <pre><code>uv run --project ../paige-github-tooling \
  paige-manage-github --prioritize-issues</code></pre>
        </div>
      </div>
    </section>

    <section>
      <h2>Fixing Issues</h2>

      <div class="workflow-step">
        <h3>Get Next Issue</h3>
        <p>Retrieve the highest priority issue to work on:</p>
        <div class="code-example">
          <pre><code>next_issue="$(uv run --project ../paige-github-tooling \
  paige-manage-github --next-issue)"</code></pre>
        </div>
      </div>

      <div class="workflow-step">
        <h3>Fix Using Kilocode</h3>
        <p>Automatically implement the fix and create a PR:</p>
        <div class="code-example">
          <pre><code>uv tool run --from ./ai-tools \
  fix-issue-with-kilocode "$next_issue"</code></pre>
        </div>
      </div>

      <div class="workflow-step">
        <h3>Fix Using Claude</h3>
        <p>Alternatively, use Claude Code for the implementation:</p>
        <div class="code-example">
          <pre><code>uv tool run --from ./ai-tools \
  fix-issue-with-claude "$next_issue"</code></pre>
        </div>
      </div>
    </section>

    <section>
      <h2>Addressing PR Reviews</h2>

      <div class="workflow-step">
        <h3>Auto-Address Comments</h3>
        <p>Automatically address review comments on the current PR:</p>
        <div class="code-example">
          <pre><code>uv tool run --from ./ai-tools \
  address-pr-comments-with-kilocode</code></pre>
        </div>
        <p class="note">
          This command works on the current branch's PR, or you can specify a PR number.
        </p>
      </div>
    </section>

    <section>
      <h2>Complete Workflow</h2>

      <div class="workflow">
        <div class="workflow-card">
          <div class="step-number">1</div>
          <div class="step-content">
            <h4>Plan Work</h4>
            <p>Analyze current state, review goals, and determine next tasks</p>
          </div>
        </div>

        <div class="workflow-card">
          <div class="step-number">2</div>
          <div class="step-content">
            <h4>Create Issues</h4>
            <p>Generate detailed GitHub issues with comprehensive instructions</p>
          </div>
        </div>

        <div class="workflow-card">
          <div class="step-number">3</div>
          <div class="step-content">
            <h4>Prioritize</h4>
            <p>Sort issues by priority and dependencies</p>
          </div>
        </div>

        <div class="workflow-card">
          <div class="step-number">4</div>
          <div class="step-content">
            <h4>Implement</h4>
            <p>Use AI tools to automatically implement fixes and create PRs</p>
          </div>
        </div>

        <div class="workflow-card">
          <div class="step-number">5</div>
          <div class="step-content">
            <h4>Review & Iterate</h4>
            <p>Address PR comments automatically and iterate until merged</p>
          </div>
        </div>
      </div>
    </section>

    <section>
      <h2>Tools Used</h2>

      <div class="tool-list">
        <div class="tool-item">
          <h4>fix-issue-with-kilocode</h4>
          <p>Automates the complete workflow: creates branch, implements fix, commits, and opens PR</p>
        </div>

        <div class="tool-item">
          <h4>fix-issue-with-claude</h4>
          <p>Uses Claude Code for interactive implementation of GitHub issues</p>
        </div>

        <div class="tool-item">
          <h4>address-pr-comments-with-kilocode</h4>
          <p>Automatically addresses review comments and updates the PR</p>
        </div>

        <div class="tool-item">
          <h4>paige-manage-github</h4>
          <p>External tool for issue management, listing, and prioritization</p>
        </div>

        <div class="tool-item">
          <h4>GitHub CLI (gh)</h4>
          <p>Used throughout the workflow for issue and PR management</p>
        </div>
      </div>
    </section>

    <section class="cta">
      <h2>Want to Learn More?</h2>
      <p>
        Check out the ai-tools directory in the repository to see the implementation
        of these automation scripts.
      </p>
      <a href="https://github.com/nlothian/Vibe-Prolog/tree/main/ai-tools" class="neon-button primary" target="_blank" rel="noopener">
        VIEW AI TOOLS
      </a>
    </section>
  </div>
</Layout>

<style>
  .hero {
    text-align: center;
    padding: var(--space-2xl) 0;
    border-bottom: 2px solid rgba(255, 0, 128, 0.5);
    margin-bottom: var(--space-2xl);
  }

  .hero h1 {
    font-family: var(--font-display);
    font-size: clamp(2.5rem, 6vw, 4rem);
    margin-bottom: var(--space-md);
    color: var(--color-electric-magenta);
    letter-spacing: 0.1em;
    text-shadow:
      0 0 20px rgba(255, 0, 128, 0.6),
      0 0 40px rgba(255, 0, 128, 0.4);
    animation: neonPulse 2s infinite;
  }

  .subtitle {
    font-size: 1.2rem;
    color: var(--color-cyber-blue);
    letter-spacing: 0.08em;
    text-shadow: 0 0 15px rgba(0, 240, 255, 0.4);
  }

  .content {
    max-width: 1000px;
    margin: 0 auto;
  }

  section {
    margin-bottom: var(--space-2xl);
  }

  h2 {
    font-family: var(--font-display);
    font-size: 2.5rem;
    color: var(--color-cyber-blue);
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-sm);
    border-bottom: 2px solid rgba(0, 240, 255, 0.5);
    letter-spacing: 0.08em;
    text-shadow: 0 0 20px rgba(0, 240, 255, 0.4);
  }

  h3 {
    font-family: var(--font-display);
    font-size: 1.8rem;
    color: var(--color-electric-magenta);
    margin-bottom: var(--space-sm);
    margin-top: var(--space-lg);
    letter-spacing: 0.05em;
    text-shadow: 0 0 15px rgba(255, 0, 128, 0.4);
  }

  h4 {
    font-size: 1.3rem;
    color: var(--color-acid-green);
    margin-bottom: var(--space-sm);
    margin-top: 0;
    letter-spacing: 0.03em;
    text-shadow: 0 0 10px rgba(57, 255, 20, 0.3);
  }

  p {
    margin-bottom: var(--space-md);
    line-height: 1.8;
  }

  .workflow-step {
    margin-bottom: var(--space-xl);
  }

  .code-example {
    background-color: rgba(26, 26, 26, 0.8);
    border: 1px solid rgba(57, 255, 20, 0.3);
    padding: var(--space-md);
    margin: var(--space-md) 0;
    overflow-x: auto;
    box-shadow: 0 0 20px rgba(57, 255, 20, 0.2);
  }

  .code-example pre {
    margin: 0;
  }

  .code-example code {
    font-family: 'Courier New', Courier, monospace;
    font-size: 0.9rem;
    color: var(--color-acid-green);
    line-height: 1.6;
  }

  .note {
    margin-top: var(--space-md);
    padding: var(--space-md);
    background-color: rgba(0, 240, 255, 0.1);
    border-left: 3px solid var(--color-cyber-blue);
    font-size: 0.95rem;
    box-shadow: 0 0 10px rgba(0, 240, 255, 0.2);
  }

  .note code {
    background-color: rgba(26, 26, 26, 0.8);
    color: var(--color-acid-green);
    padding: 0.2rem 0.6rem;
    font-family: 'Courier New', Courier, monospace;
    font-size: 0.9em;
    border: 1px solid rgba(57, 255, 20, 0.3);
  }

  .tool-list {
    display: grid;
    gap: var(--space-md);
  }

  .tool-item {
    padding: var(--space-md);
    border-left: 3px solid var(--color-acid-green);
    background-color: rgba(26, 26, 26, 0.4);
    box-shadow: 0 0 20px rgba(57, 255, 20, 0.2);
    transition: all var(--duration-fast);
  }

  .tool-item:hover {
    background-color: rgba(26, 26, 26, 0.6);
    box-shadow: 0 0 30px rgba(57, 255, 20, 0.4);
  }

  .tool-item h4 {
    color: var(--color-acid-green);
  }

  .tool-item p {
    margin-bottom: 0;
  }

  .workflow {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
    margin-top: var(--space-lg);
  }

  .workflow-card {
    display: flex;
    gap: var(--space-md);
    align-items: start;
    padding: var(--space-lg);
    background-color: rgba(26, 26, 26, 0.6);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(0, 240, 255, 0.5);
    box-shadow: 0 0 30px rgba(0, 240, 255, 0.3);
    transition: all var(--duration-normal) var(--easing-elastic);
  }

  .workflow-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 0 50px rgba(0, 240, 255, 0.5);
    border-color: rgba(0, 240, 255, 0.8);
  }

  .step-number {
    flex-shrink: 0;
    width: 3rem;
    height: 3rem;
    background: transparent;
    color: var(--color-electric-magenta);
    border: 2px solid var(--color-electric-magenta);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 1.4rem;
    box-shadow:
      0 0 20px rgba(255, 0, 128, 0.4),
      inset 0 0 20px rgba(255, 0, 128, 0.1);
  }

  .step-content {
    flex-grow: 1;
  }

  .step-content h4 {
    margin-bottom: var(--space-xs);
    color: var(--color-cyber-blue);
  }

  .step-content p {
    margin-top: var(--space-xs);
    color: rgba(0, 240, 255, 0.8);
  }

  .cta {
    text-align: center;
    padding: var(--space-xl);
    background-color: rgba(26, 26, 26, 0.6);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 0, 128, 0.5);
    margin-top: var(--space-2xl);
    box-shadow: 0 0 40px rgba(255, 0, 128, 0.3);
  }

  .cta h2 {
    border-bottom: none;
    margin-bottom: var(--space-sm);
  }

  .cta p {
    margin-bottom: var(--space-lg);
  }

  .neon-button {
    background: transparent;
    border: 2px solid var(--color-electric-magenta);
    color: var(--color-electric-magenta);
    padding: 16px 40px;
    font-family: var(--font-body);
    font-weight: 700;
    font-size: 18px;
    letter-spacing: 0.08em;
    text-decoration: none;
    display: inline-block;
    box-shadow:
      0 0 20px rgba(255, 0, 128, 0.4),
      inset 0 0 20px rgba(255, 0, 128, 0.1);
    transition: all var(--duration-normal) var(--easing-elastic);
  }

  .neon-button:hover {
    background: var(--color-electric-magenta);
    color: var(--color-void-black);
    box-shadow:
      0 0 60px rgba(255, 0, 128, 0.8),
      0 0 100px rgba(255, 0, 128, 0.4);
    transform: translateY(-4px);
  }

  @media (max-width: 768px) {
    .hero h1 {
      font-size: clamp(2rem, 6vw, 3rem);
    }

    .subtitle {
      font-size: 1rem;
    }

    h2 {
      font-size: 2rem;
    }

    h3 {
      font-size: 1.5rem;
    }

    .workflow-card {
      flex-direction: column;
      gap: var(--space-sm);
      padding: var(--space-md);
    }

    .step-number {
      width: 2.5rem;
      height: 2.5rem;
      font-size: 1.2rem;
    }

    .neon-button {
      padding: 12px 30px;
      font-size: 16px;
    }
  }
</style>
